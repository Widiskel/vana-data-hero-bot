const a4_0x261e54=a4_0x585d;(function(_0x2ac311,_0x3ec39f){const _0x395103=a4_0x585d,_0x26274a=_0x2ac311();while(!![]){try{const _0x20f97d=parseInt(_0x395103(0x1d9))/0x1*(parseInt(_0x395103(0x1f6))/0x2)+parseInt(_0x395103(0x1b4))/0x3+parseInt(_0x395103(0x1c5))/0x4*(-parseInt(_0x395103(0x1b0))/0x5)+parseInt(_0x395103(0x1d2))/0x6+parseInt(_0x395103(0x1c3))/0x7+parseInt(_0x395103(0x1ec))/0x8*(-parseInt(_0x395103(0x1be))/0x9)+-parseInt(_0x395103(0x1e4))/0xa;if(_0x20f97d===_0x3ec39f)break;else _0x26274a['push'](_0x26274a['shift']());}catch(_0x27881c){_0x26274a['push'](_0x26274a['shift']());}}}(a4_0x5311,0x955e6));import a4_0x38fca1 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';function a4_0x5311(){const _0x4f45c3=['useSession','TELEGRAM_APP_HASH','proxy','message','text','invoke','url','18282510OvTcQU','https://vanadatahero.com/','Session\x20','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','storeSession','includes','length','8eDwnUa','queryModificaiton','delay','error','android','serverAddress','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','Please\x20Enter\x20Telegram\x20Query\x20:\x20','query','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','720194XkUyRQ','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','init','resetAccounts','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','VanaDataHeroBot','peer','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','disconnect','destroy','180ypCWYN','indexOf','createDir','queryCreation','1174617Fnuvzz','Query\x20','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','client','Old\x20Query\x20:\x20','TELEGRAM_APP_ID','\x20|\x20Sleep\x20','2159901JKGruD','\x20-\x20Resolving\x20Peer','Invalid\x20input,\x20Please\x20try\x20again','log','info','7801374jKDdek','readQueryFile','1756hPgvuy','saveQueryFile','filter','Your\x20Account\x20List\x20:\x0a\x20\x0a','getSession','getTelegramQuery','Invalid\x20Input','sessionCreation','accounts','accountType','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','sessions-','RequestWebView','657276yZaCtK','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','agent','save','resolvePeer','\x20-\x20Created','session','3gGMzio','onBoarding','messages','accountName'];a4_0x5311=function(){return _0x4f45c3;};return a4_0x5311();}function a4_0x585d(_0x2da5e3,_0x2081b4){const _0x531165=a4_0x5311();return a4_0x585d=function(_0x585d05,_0x44bdbe){_0x585d05=_0x585d05-0x1b0;let _0x49ea29=_0x531165[_0x585d05];return _0x49ea29;},a4_0x585d(_0x2da5e3,_0x2081b4);}import a4_0x4f5a79 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a4_0x261e54(0x1e9)];constructor(){const _0x399630=a4_0x261e54;this[_0x399630(0x1dc)]=_0x399630(0x1cd),this[_0x399630(0x1e3)]=_0x399630(0x1e5),this['bot']=_0x399630(0x1fc);}async[a4_0x261e54(0x1f8)](){const _0xa1347b=a4_0x261e54;try{await this[_0xa1347b(0x1da)]();}catch(_0x4e5b3a){console[_0xa1347b(0x1c1)](_0x4e5b3a),a4_0x4f5a79[_0xa1347b(0x1ef)](''+JSON['stringify'](_0x4e5b3a));throw _0x4e5b3a;}}async[a4_0x261e54(0x1da)](){const _0x572f40=a4_0x261e54;try{let _0x41094a=_0x572f40(0x1f7);const _0x25ad36=Helper[_0x572f40(0x1c9)](_0x572f40(0x1cd));if(_0x25ad36[_0x572f40(0x1eb)]==0x0)_0x41094a+='<empty>';else for(const _0x441958 of _0x25ad36){_0x41094a+='-\x20'+_0x441958+'\x0a';}_0x41094a+=_0x572f40(0x1fa),_0x41094a+=_0x572f40(0x1f5);const _0x20ce26=await a4_0x38fca1['text'](_0x41094a);if(_0x20ce26==0x1)await this[_0x572f40(0x1ce)]();else{if(_0x20ce26==0x2)Helper[_0x572f40(0x1f9)](),await Helper['delay'](0xbb8),await this[_0x572f40(0x1da)]();else{if(_0x20ce26==0x3)Helper[_0x572f40(0x1c9)](this[_0x572f40(0x1dc)])?.[_0x572f40(0x1eb)]==0x0&&(console[_0x572f40(0x1c2)](_0x572f40(0x1b6)),await this['onBoarding']());else _0x20ce26==0x4?await this[_0x572f40(0x1ed)]():(console[_0x572f40(0x1ef)](_0x572f40(0x1c0)),await this[_0x572f40(0x1da)]());}}}catch(_0x170845){throw _0x170845;}}async[a4_0x261e54(0x1ed)](){const _0x5b27a5=a4_0x261e54;try{const _0x57f6a0=Helper[_0x5b27a5(0x1c9)]('accounts'),_0x4d5aca=_0x57f6a0[_0x5b27a5(0x1c7)](_0x4930c0=>_0x4930c0[_0x5b27a5(0x1ea)](_0x5b27a5(0x1f4)));let _0x13487a=_0x5b27a5(0x1fe);for(const _0x2ecf79 of _0x4d5aca){_0x13487a+=_0x57f6a0['indexOf'](_0x2ecf79)+0x1+'.\x20'+_0x2ecf79+'\x0a';}_0x4d5aca[_0x5b27a5(0x1eb)]==0x0?(console[_0x5b27a5(0x1c1)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this['onBoarding']()):_0x13487a+=_0x5b27a5(0x1e7);const _0x1f459a=await a4_0x38fca1[_0x5b27a5(0x1e1)](_0x13487a);if(_0x4d5aca[_0x1f459a-0x1]!=undefined){const _0x2ffcff=_0x4d5aca[_0x1f459a-0x1];this[_0x5b27a5(0x1dc)]='accounts/'+_0x2ffcff;const _0x1ed8da=_0x5b27a5(0x1bb)+Helper[_0x5b27a5(0x1c4)](this[_0x5b27a5(0x1dc)]+'/query.txt')+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x47537b=await a4_0x38fca1[_0x5b27a5(0x1e1)](_0x1ed8da);await Helper[_0x5b27a5(0x1c6)](this[_0x5b27a5(0x1dc)],_0x47537b),await Helper[_0x5b27a5(0x1ee)](0xbb8),await this['onBoarding']();}else console['error'](_0x5b27a5(0x1c0)),await this[_0x5b27a5(0x1ed)]();}catch(_0x3a3089){throw _0x3a3089;}}async[a4_0x261e54(0x1cc)](){const _0x2d2a31=a4_0x261e54;try{if(Config[_0x2d2a31(0x1bc)]==undefined||Config[_0x2d2a31(0x1de)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x15694c=Helper[_0x2d2a31(0x1c9)]('accounts');let _0x47cac5=_0x2d2a31(0x1c8);for(const _0x6675b2 of _0x15694c){_0x47cac5+=_0x15694c[_0x2d2a31(0x1b1)](_0x6675b2)+0x1+'.\x20'+_0x6675b2+'\x0a';}_0x15694c[_0x2d2a31(0x1eb)]==0x0?_0x47cac5+=_0x2d2a31(0x1b7):_0x47cac5+=_0x2d2a31(0x1b9);const _0x1fc7a3=await a4_0x38fca1[_0x2d2a31(0x1e1)](_0x47cac5);this['accountName']=Helper['createDir'](_0x2d2a31(0x1d0)+_0x1fc7a3),await this[_0x2d2a31(0x1dd)](this[_0x2d2a31(0x1dc)]),await this[_0x2d2a31(0x1ff)](),a4_0x4f5a79[_0x2d2a31(0x1c2)](_0x2d2a31(0x1e6)+this[_0x2d2a31(0x1dc)]+_0x2d2a31(0x1d7)),console[_0x2d2a31(0x1c1)](_0x2d2a31(0x1e6)+_0x1fc7a3+_0x2d2a31(0x1d3)),this[_0x2d2a31(0x1e9)][_0x2d2a31(0x1d5)](),await Helper[_0x2d2a31(0x1ee)](0xbb8),process['exit']();}catch(_0x473ed3){throw _0x473ed3;}}async[a4_0x261e54(0x1b3)](){const _0x29cfbe=a4_0x261e54;try{const _0x4faf3e=Helper[_0x29cfbe(0x1c9)](_0x29cfbe(0x1cd));let _0x3fc4ed=_0x29cfbe(0x1c8);for(const _0x3da632 of _0x4faf3e){_0x3fc4ed+=_0x4faf3e[_0x29cfbe(0x1b1)](_0x3da632)+0x1+'.\x20'+_0x3da632+'\x0a';}_0x4faf3e[_0x29cfbe(0x1eb)]==0x0?_0x3fc4ed+=_0x29cfbe(0x1cf):_0x3fc4ed+=_0x29cfbe(0x1e8);const _0x5a57dd=await a4_0x38fca1[_0x29cfbe(0x1e1)](_0x3fc4ed);this[_0x29cfbe(0x1dc)]=Helper[_0x29cfbe(0x1b2)]('query-'+_0x5a57dd);let _0x11bcda=_0x29cfbe(0x1f3);const _0x31f007=await a4_0x38fca1[_0x29cfbe(0x1e1)](_0x11bcda);await Helper[_0x29cfbe(0x1c6)](this[_0x29cfbe(0x1dc)],_0x31f007),a4_0x4f5a79[_0x29cfbe(0x1c2)]('Query\x20'+this['accountName']+_0x29cfbe(0x1d7)),console[_0x29cfbe(0x1c1)](_0x29cfbe(0x1b5)+_0x5a57dd+_0x29cfbe(0x1d3)),await Helper[_0x29cfbe(0x1ee)](0xbb8),process['exit']();}catch(_0x43734f){throw _0x43734f;}}async['accountType'](){const _0xa92a18=a4_0x261e54;try{const _0x35b065=Helper[_0xa92a18(0x1c9)](_0xa92a18(0x1cd));let _0x2498e4=_0xa92a18(0x1c8);if(_0x35b065[_0xa92a18(0x1eb)]>0x0)for(const _0x1b9e2a of _0x35b065){_0x2498e4+=_0x35b065[_0xa92a18(0x1b1)](_0x1b9e2a)+0x1+'.\x20'+_0x1b9e2a+'\x0a';}else _0x2498e4+='<empty>\x0a';_0x2498e4+=_0xa92a18(0x1b8);const _0x5cbf6d=await a4_0x38fca1[_0xa92a18(0x1e1)](_0x2498e4);if(_0x5cbf6d==0x1)await this[_0xa92a18(0x1cc)]();else _0x5cbf6d==0x2?await this[_0xa92a18(0x1b3)]():(console['log'](_0xa92a18(0x1cb)),await this[_0xa92a18(0x1ce)]());}catch(_0x385ac7){throw _0x385ac7;}}async[a4_0x261e54(0x1dd)](_0x4dbe04,_0x32b408){const _0x3dde1f=a4_0x261e54;try{this[_0x3dde1f(0x1df)]=_0x32b408;const _0x18d0f0={'connectionRetries':0x5};this['proxy']&&(_0x18d0f0[_0x3dde1f(0x1d4)]=new HttpsProxyAgent(this[_0x3dde1f(0x1df)])),this[_0x3dde1f(0x1e9)]=new StoreSession(_0x4dbe04),this[_0x3dde1f(0x1ba)]=new TelegramClient(this[_0x3dde1f(0x1e9)],Config[_0x3dde1f(0x1bc)],Config[_0x3dde1f(0x1de)],_0x18d0f0),this[_0x3dde1f(0x1e9)][_0x3dde1f(0x1d5)](),await this['client']['start']({'phoneNumber':async()=>await a4_0x38fca1[_0x3dde1f(0x1e1)](_0x3dde1f(0x1fb)),'password':async()=>await a4_0x38fca1['text']('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a4_0x38fca1[_0x3dde1f(0x1e1)](_0x3dde1f(0x1f2)),'onError':_0x390f0c=>{const _0x25af51=_0x3dde1f;console[_0x25af51(0x1c1)](_0x390f0c[_0x25af51(0x1e0)]);}}),console[_0x3dde1f(0x1c1)]();}catch(_0x421f9f){throw _0x421f9f;}}async[a4_0x261e54(0x1d6)](){const _0x2d7da4=a4_0x261e54;try{a4_0x4f5a79[_0x2d7da4(0x1c2)]('Session\x20'+this[_0x2d7da4(0x1d8)]+_0x2d7da4(0x1bf));while(this[_0x2d7da4(0x1fd)]==undefined){try{this['peer']=await this[_0x2d7da4(0x1ba)]['getEntity'](this['bot']);break;}catch(_0x36688b){if(_0x36688b instanceof FloodWaitError){const _0x4bb14f=_0x36688b['seconds'];a4_0x4f5a79['warn'](this[_0x2d7da4(0x1ba)][_0x2d7da4(0x1d8)][_0x2d7da4(0x1f1)]+'\x20|\x20FloodWait\x20'+_0x36688b),a4_0x4f5a79[_0x2d7da4(0x1c2)](this[_0x2d7da4(0x1ba)][_0x2d7da4(0x1d8)]['serverAddress']+_0x2d7da4(0x1bd)+_0x4bb14f+'s'),await Helper[_0x2d7da4(0x1ee)]((_0x4bb14f+0x3)*0x3e8);}else throw _0x36688b;}}}catch(_0x20330f){throw _0x20330f;}}async[a4_0x261e54(0x1ff)](){const _0x2a4796=a4_0x261e54;await this[_0x2a4796(0x1ba)][_0x2a4796(0x1ff)](),await this[_0x2a4796(0x1ba)][_0x2a4796(0x200)](),this[_0x2a4796(0x1fd)]=undefined,this[_0x2a4796(0x1dc)]=undefined;}async['initWebView'](){const _0x11985e=a4_0x261e54;try{const _0x231f97=await this[_0x11985e(0x1ba)][_0x11985e(0x1e2)](new Api[(_0x11985e(0x1db))][(_0x11985e(0x1d1))]({'peer':this[_0x11985e(0x1fd)],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0x11985e(0x1e3)],'platform':_0x11985e(0x1f0)}));a4_0x4f5a79[_0x11985e(0x1c2)]('Session\x20'+this['session']+'\x20-\x20Webview\x20Connected');const _0x1d4906=_0x231f97['url'];return Helper[_0x11985e(0x1ca)](_0x1d4906,0x3);}catch(_0x46959b){throw _0x46959b;}}}