const a3_0xf3b800=a3_0x2e24;(function(_0x413fee,_0x24f5c5){const _0xbe7331=a3_0x2e24,_0x880c80=_0x413fee();while(!![]){try{const _0x26e354=parseInt(_0xbe7331(0x1ce))/0x1*(parseInt(_0xbe7331(0x203))/0x2)+parseInt(_0xbe7331(0x1f5))/0x3+-parseInt(_0xbe7331(0x20b))/0x4*(parseInt(_0xbe7331(0x1d9))/0x5)+parseInt(_0xbe7331(0x1c5))/0x6*(-parseInt(_0xbe7331(0x201))/0x7)+parseInt(_0xbe7331(0x200))/0x8+-parseInt(_0xbe7331(0x1df))/0x9+parseInt(_0xbe7331(0x1e6))/0xa;if(_0x26e354===_0x24f5c5)break;else _0x880c80['push'](_0x880c80['shift']());}catch(_0x66a0c0){_0x880c80['push'](_0x880c80['shift']());}}}(a3_0x4179,0xe8061));import a3_0x2f9b40 from'input';import{Helper}from'../utils/helper.js';function a3_0x2e24(_0x39dd95,_0x48827e){const _0x41797f=a3_0x4179();return a3_0x2e24=function(_0x2e249e,_0x5d1a34){_0x2e249e=_0x2e249e-0x1c2;let _0x20f100=_0x41797f[_0x2e249e];return _0x20f100;},a3_0x2e24(_0x39dd95,_0x48827e);}import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x2e0f7a from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';function a3_0x4179(){const _0x3de526=['Old\x20Query\x20:\x20','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','\x20-\x20Webview\x20Connected','accountType','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','storeSession','filter','start','7554gDPUlX','seconds','query-','agent','invoke','Query\x20','log','createDir','Invalid\x20input,\x20Please\x20try\x20again','5679DnPPcc','accounts','onBoarding','getTelegramQuery','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','text','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','serverAddress','android','bot','https://vanadatahero.com/','8055985VnggFl','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','TELEGRAM_APP_HASH','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','RequestWebView','VanaDataHeroBot','9463365dPPgjd','\x20-\x20Created','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','Enter\x20your\x20Telegram\x20Password?','Please\x20Enter\x20Telegram\x20Query\x20:\x20','disconnect','destroy','16658730wwrrsk','session','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','warn','error','sessionCreation','Your\x20Account\x20List\x20:\x0a\x20\x0a','Session\x20','length','exit','messages','resetAccounts','info','client','accountName','5690088TvcrZu','resolvePeer','Invalid\x20Input','init','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','\x20|\x20FloodWait\x20','saveQueryFile','\x20-\x20Resolving\x20Peer','save','accounts/','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','2282176pcourR','1337KIDUqg','TELEGRAM_APP_ID','2KehSSk','queryModificaiton','getSession','proxy','indexOf','peer','url','delay','4MmMUfU','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','<empty>'];a3_0x4179=function(){return _0x3de526;};return a3_0x4179();}export class Telegram{['storeSession'];constructor(){const _0x292e54=a3_0x2e24;this[_0x292e54(0x1f4)]=_0x292e54(0x1cf),this[_0x292e54(0x209)]=_0x292e54(0x1d8),this[_0x292e54(0x1d7)]=_0x292e54(0x1de);}async[a3_0xf3b800(0x1f8)](){const _0x29aea5=a3_0xf3b800;try{await this[_0x29aea5(0x1d0)]();}catch(_0x5d12d8){console[_0x29aea5(0x1cb)](_0x5d12d8),a3_0x2e0f7a[_0x29aea5(0x1ea)](''+JSON['stringify'](_0x5d12d8));throw _0x5d12d8;}}async['onBoarding'](){const _0x229641=a3_0xf3b800;try{let _0x19da0d='Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a';const _0x380276=Helper[_0x229641(0x205)](_0x229641(0x1cf));if(_0x380276[_0x229641(0x1ee)]==0x0)_0x19da0d+=_0x229641(0x20d);else for(const _0x53a958 of _0x380276){_0x19da0d+='-\x20'+_0x53a958+'\x0a';}_0x19da0d+=_0x229641(0x1f9),_0x19da0d+=_0x229641(0x1dc);const _0x56f861=await a3_0x2f9b40[_0x229641(0x1d3)](_0x19da0d);if(_0x56f861==0x1)await this[_0x229641(0x211)]();else{if(_0x56f861==0x2)Helper[_0x229641(0x1f1)](),await Helper[_0x229641(0x20a)](0xbb8),await this[_0x229641(0x1d0)]();else{if(_0x56f861==0x3)Helper[_0x229641(0x205)](this['accountName'])?.['length']==0x0&&(console[_0x229641(0x1f2)](_0x229641(0x1e8)),await this[_0x229641(0x1d0)]());else _0x56f861==0x4?await this['queryModificaiton']():(console[_0x229641(0x1ea)](_0x229641(0x1cd)),await this['onBoarding']());}}}catch(_0x9b203a){throw _0x9b203a;}}async[a3_0xf3b800(0x204)](){const _0x2896f9=a3_0xf3b800;try{const _0x396e04=Helper['getSession'](_0x2896f9(0x1cf)),_0x2574fb=_0x396e04[_0x2896f9(0x1c3)](_0x81a09a=>_0x81a09a['includes']('query'));let _0x2f1a0f=_0x2896f9(0x1d2);for(const _0xde479a of _0x2574fb){_0x2f1a0f+=_0x396e04[_0x2896f9(0x207)](_0xde479a)+0x1+'.\x20'+_0xde479a+'\x0a';}_0x2574fb[_0x2896f9(0x1ee)]==0x0?(console[_0x2896f9(0x1cb)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x2896f9(0x1d0)]()):_0x2f1a0f+=_0x2896f9(0x20c);const _0x43c9fe=await a3_0x2f9b40[_0x2896f9(0x1d3)](_0x2f1a0f);if(_0x2574fb[_0x43c9fe-0x1]!=undefined){const _0x437a58=_0x2574fb[_0x43c9fe-0x1];this['accountName']=_0x2896f9(0x1fe)+_0x437a58;const _0x10cc52=_0x2896f9(0x20e)+Helper['readQueryFile'](this[_0x2896f9(0x1f4)]+'/query.txt')+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x12ecf2=await a3_0x2f9b40[_0x2896f9(0x1d3)](_0x10cc52);await Helper[_0x2896f9(0x1fb)](this['accountName'],_0x12ecf2),await Helper['delay'](0xbb8),await this[_0x2896f9(0x1d0)]();}else console['error']('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x2896f9(0x204)]();}catch(_0x18ede1){throw _0x18ede1;}}async[a3_0xf3b800(0x1eb)](){const _0x1e2e84=a3_0xf3b800;try{if(Config[_0x1e2e84(0x202)]==undefined||Config[_0x1e2e84(0x1db)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x3dc13d=Helper['getSession'](_0x1e2e84(0x1cf));let _0x232558=_0x1e2e84(0x1ec);for(const _0x16bd9c of _0x3dc13d){_0x232558+=_0x3dc13d[_0x1e2e84(0x207)](_0x16bd9c)+0x1+'.\x20'+_0x16bd9c+'\x0a';}_0x3dc13d[_0x1e2e84(0x1ee)]==0x0?_0x232558+=_0x1e2e84(0x212):_0x232558+='\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x3bdb47=await a3_0x2f9b40['text'](_0x232558);this[_0x1e2e84(0x1f4)]=Helper[_0x1e2e84(0x1cc)]('sessions-'+_0x3bdb47),await this['useSession'](this[_0x1e2e84(0x1f4)]),await this['disconnect'](),a3_0x2e0f7a[_0x1e2e84(0x1f2)]('Session\x20'+this[_0x1e2e84(0x1f4)]+_0x1e2e84(0x1e0)),console['log'](_0x1e2e84(0x1ed)+_0x3bdb47+_0x1e2e84(0x1e1)),this['storeSession'][_0x1e2e84(0x1fd)](),await Helper[_0x1e2e84(0x20a)](0xbb8),process['exit']();}catch(_0xcb07b3){throw _0xcb07b3;}}async['queryCreation'](){const _0x187199=a3_0xf3b800;try{const _0x4d3526=Helper['getSession']('accounts');let _0x38d8a4=_0x187199(0x1ec);for(const _0x53c857 of _0x4d3526){_0x38d8a4+=_0x4d3526[_0x187199(0x207)](_0x53c857)+0x1+'.\x20'+_0x53c857+'\x0a';}_0x4d3526[_0x187199(0x1ee)]==0x0?_0x38d8a4+=_0x187199(0x1da):_0x38d8a4+=_0x187199(0x1ff);const _0x2365d6=await a3_0x2f9b40[_0x187199(0x1d3)](_0x38d8a4);this[_0x187199(0x1f4)]=Helper[_0x187199(0x1cc)](_0x187199(0x1c7)+_0x2365d6);let _0x57a2ff=_0x187199(0x1e3);const _0x2d772f=await a3_0x2f9b40[_0x187199(0x1d3)](_0x57a2ff);await Helper['saveQueryFile'](this['accountName'],_0x2d772f),a3_0x2e0f7a['info'](_0x187199(0x1ca)+this[_0x187199(0x1f4)]+_0x187199(0x1e0)),console[_0x187199(0x1cb)](_0x187199(0x1ca)+_0x2365d6+_0x187199(0x1e1)),await Helper['delay'](0xbb8),process[_0x187199(0x1ef)]();}catch(_0x56a8f2){throw _0x56a8f2;}}async['accountType'](){const _0x31e314=a3_0xf3b800;try{const _0x482007=Helper[_0x31e314(0x205)]('accounts');let _0xf783ff=_0x31e314(0x1ec);if(_0x482007[_0x31e314(0x1ee)]>0x0)for(const _0x5d8f7a of _0x482007){_0xf783ff+=_0x482007[_0x31e314(0x207)](_0x5d8f7a)+0x1+'.\x20'+_0x5d8f7a+'\x0a';}else _0xf783ff+='<empty>\x0a';_0xf783ff+=_0x31e314(0x1d4);const _0x42f066=await a3_0x2f9b40[_0x31e314(0x1d3)](_0xf783ff);if(_0x42f066==0x1)await this[_0x31e314(0x1eb)]();else _0x42f066==0x2?await this['queryCreation']():(console[_0x31e314(0x1cb)](_0x31e314(0x1f7)),await this[_0x31e314(0x211)]());}catch(_0x2c2158){throw _0x2c2158;}}async['useSession'](_0xeb73ef,_0x3aa379){const _0x38a223=a3_0xf3b800;try{this[_0x38a223(0x206)]=_0x3aa379;const _0x2b00da={'connectionRetries':0x5};this[_0x38a223(0x206)]&&(_0x2b00da[_0x38a223(0x1c8)]=new HttpsProxyAgent(this['proxy'])),this[_0x38a223(0x1c2)]=new StoreSession(_0xeb73ef),this[_0x38a223(0x1f3)]=new TelegramClient(this['storeSession'],Config[_0x38a223(0x202)],Config['TELEGRAM_APP_HASH'],_0x2b00da),this[_0x38a223(0x1c2)]['save'](),await this[_0x38a223(0x1f3)][_0x38a223(0x1c4)]({'phoneNumber':async()=>await a3_0x2f9b40[_0x38a223(0x1d3)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0x2f9b40[_0x38a223(0x1d3)](_0x38a223(0x1e2)),'phoneCode':async()=>await a3_0x2f9b40['text'](_0x38a223(0x20f)),'onError':_0x4e1278=>{const _0x212440=_0x38a223;console[_0x212440(0x1cb)](_0x4e1278['message']);}}),console[_0x38a223(0x1cb)]();}catch(_0x52d4d7){throw _0x52d4d7;}}async[a3_0xf3b800(0x1f6)](){const _0x252b66=a3_0xf3b800;try{a3_0x2e0f7a['info'](_0x252b66(0x1ed)+this[_0x252b66(0x1e7)]+_0x252b66(0x1fc));while(this[_0x252b66(0x208)]==undefined){try{this['peer']=await this['client']['getEntity'](this[_0x252b66(0x1d7)]);break;}catch(_0x17425c){if(_0x17425c instanceof FloodWaitError){const _0xa9dbe7=_0x17425c[_0x252b66(0x1c6)];a3_0x2e0f7a[_0x252b66(0x1e9)](this[_0x252b66(0x1f3)][_0x252b66(0x1e7)]['serverAddress']+_0x252b66(0x1fa)+_0x17425c),a3_0x2e0f7a[_0x252b66(0x1f2)](this[_0x252b66(0x1f3)]['session'][_0x252b66(0x1d5)]+'\x20|\x20Sleep\x20'+_0xa9dbe7+'s'),await Helper[_0x252b66(0x20a)]((_0xa9dbe7+0x3)*0x3e8);}else throw _0x17425c;}}}catch(_0x56d24c){throw _0x56d24c;}}async['disconnect'](){const _0x12f9e8=a3_0xf3b800;await this[_0x12f9e8(0x1f3)][_0x12f9e8(0x1e4)](),await this[_0x12f9e8(0x1f3)][_0x12f9e8(0x1e5)](),this['peer']=undefined,this['accountName']=undefined;}async['initWebView'](){const _0x449eb2=a3_0xf3b800;try{const _0x4bbb36=await this[_0x449eb2(0x1f3)][_0x449eb2(0x1c9)](new Api[(_0x449eb2(0x1f0))][(_0x449eb2(0x1dd))]({'peer':this[_0x449eb2(0x208)],'bot':this[_0x449eb2(0x208)],'fromBotMenu':!![],'url':this[_0x449eb2(0x209)],'platform':_0x449eb2(0x1d6)}));a3_0x2e0f7a[_0x449eb2(0x1f2)](_0x449eb2(0x1ed)+this[_0x449eb2(0x1e7)]+_0x449eb2(0x210));const _0x45a79b=_0x4bbb36[_0x449eb2(0x209)];return Helper[_0x449eb2(0x1d1)](_0x45a79b,0x3);}catch(_0x4068c3){throw _0x4068c3;}}}