const a3_0x46b6ff=a3_0x5915;(function(_0x1804a4,_0x1d3809){const _0x325baf=a3_0x5915,_0x3ef973=_0x1804a4();while(!![]){try{const _0x11f3b6=parseInt(_0x325baf(0x1c4))/0x1*(-parseInt(_0x325baf(0x1c8))/0x2)+-parseInt(_0x325baf(0x1c3))/0x3*(parseInt(_0x325baf(0x20b))/0x4)+parseInt(_0x325baf(0x1d5))/0x5+parseInt(_0x325baf(0x1f5))/0x6*(parseInt(_0x325baf(0x1e6))/0x7)+-parseInt(_0x325baf(0x1fc))/0x8*(-parseInt(_0x325baf(0x1e9))/0x9)+parseInt(_0x325baf(0x1dd))/0xa*(parseInt(_0x325baf(0x1ee))/0xb)+parseInt(_0x325baf(0x1fa))/0xc;if(_0x11f3b6===_0x1d3809)break;else _0x3ef973['push'](_0x3ef973['shift']());}catch(_0x1819b6){_0x3ef973['push'](_0x3ef973['shift']());}}}(a3_0x2b30,0x9b171));import a3_0x42e1f0 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x5915(_0x515b6b,_0x25e665){const _0x2b302b=a3_0x2b30();return a3_0x5915=function(_0x5915a0,_0x2cfc6e){_0x5915a0=_0x5915a0-0x1bc;let _0x3d42d4=_0x2b302b[_0x5915a0];return _0x3d42d4;},a3_0x5915(_0x515b6b,_0x25e665);}function a3_0x2b30(){const _0x2ba179=['\x20-\x20Webview\x20Connected','8EHHpmX','destroy','start','disconnect','accountName','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','TELEGRAM_APP_ID','bot','client','VanaDataHeroBot','Old\x20Query\x20:\x20','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','accounts/','session','accountType','16AHDcmD','includes','resetAccounts','<empty>\x0a','length','Invalid\x20input,\x20Please\x20try\x20again','onBoarding','indexOf','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','You\x20dont\x20have\x20any\x20Query\x20Account.','useSession','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','error','peer','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','RequestWebView','35709OFnEPm','896419Smpsmp','queryCreation','Invalid\x20Input','sessions-','2KZXlIb','\x20|\x20Sleep\x20','accounts','createDir','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','agent','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','getTelegramQuery','delay','Please\x20Enter\x20Telegram\x20Query\x20:\x20','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','<empty>','proxy','2093485SrorrV','resolvePeer','invoke','Session\x20','initWebView','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','exit','saveQueryFile','3639180WVCTyB','TELEGRAM_APP_HASH','storeSession','text','query','getSession','Your\x20Account\x20List\x20:\x0a\x20\x0a','\x20-\x20Resolving\x20Peer','messages','7USxQqr','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','save','1106811GCOxxt','init','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','message','22qcAfxM','getEntity','info','serverAddress','sessionCreation','queryModificaiton','stringify','777102sEKSqb','Query\x20','url','log','seconds','2163012RLOvoS'];a3_0x2b30=function(){return _0x2ba179;};return a3_0x2b30();}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x7b1de9 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x46b6ff(0x1df)];constructor(){const _0x5cc6a4=a3_0x46b6ff;this[_0x5cc6a4(0x200)]=_0x5cc6a4(0x1ca),this['url']='https://vanadatahero.com/',this[_0x5cc6a4(0x203)]=_0x5cc6a4(0x205);}async[a3_0x46b6ff(0x1ea)](){const _0x3ba9cf=a3_0x46b6ff;try{await this['onBoarding']();}catch(_0x162a58){console[_0x3ba9cf(0x1f8)](_0x162a58),a3_0x7b1de9[_0x3ba9cf(0x1bf)](''+JSON[_0x3ba9cf(0x1f4)](_0x162a58));throw _0x162a58;}}async[a3_0x46b6ff(0x211)](){const _0x103856=a3_0x46b6ff;try{let _0x5eae31=_0x103856(0x201);const _0x826a29=Helper[_0x103856(0x1e2)](_0x103856(0x1ca));if(_0x826a29['length']==0x0)_0x5eae31+=_0x103856(0x1d3);else for(const _0x4f3120 of _0x826a29){_0x5eae31+='-\x20'+_0x4f3120+'\x0a';}_0x5eae31+=_0x103856(0x1e7),_0x5eae31+=_0x103856(0x207);const _0x5422fb=await a3_0x42e1f0['text'](_0x5eae31);if(_0x5422fb==0x1)await this[_0x103856(0x20a)]();else{if(_0x5422fb==0x2)Helper[_0x103856(0x20d)](),await Helper[_0x103856(0x1d0)](0xbb8),await this['onBoarding']();else{if(_0x5422fb==0x3)Helper[_0x103856(0x1e2)](this[_0x103856(0x200)])?.[_0x103856(0x20f)]==0x0&&(console['info']('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0x103856(0x211)]());else _0x5422fb==0x4?await this['queryModificaiton']():(console[_0x103856(0x1bf)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x103856(0x211)]());}}}catch(_0x1327c7){throw _0x1327c7;}}async[a3_0x46b6ff(0x1f3)](){const _0x2e5761=a3_0x46b6ff;try{const _0xce5805=Helper['getSession'](_0x2e5761(0x1ca)),_0x20aa8f=_0xce5805['filter'](_0x72267=>_0x72267[_0x2e5761(0x20c)](_0x2e5761(0x1e1)));let _0xbfb2bb=_0x2e5761(0x1d2);for(const _0x3c48f3 of _0x20aa8f){_0xbfb2bb+=_0xce5805[_0x2e5761(0x212)](_0x3c48f3)+0x1+'.\x20'+_0x3c48f3+'\x0a';}_0x20aa8f[_0x2e5761(0x20f)]==0x0?(console[_0x2e5761(0x1f8)](_0x2e5761(0x1bc)),await this[_0x2e5761(0x211)]()):_0xbfb2bb+=_0x2e5761(0x1da);const _0xa778ea=await a3_0x42e1f0[_0x2e5761(0x1e0)](_0xbfb2bb);if(_0x20aa8f[_0xa778ea-0x1]!=undefined){const _0x18fc2a=_0x20aa8f[_0xa778ea-0x1];this[_0x2e5761(0x200)]=_0x2e5761(0x208)+_0x18fc2a;const _0x2a902b=_0x2e5761(0x206)+Helper['readQueryFile'](this['accountName']+'/query.txt')+_0x2e5761(0x1be),_0x3455a4=await a3_0x42e1f0[_0x2e5761(0x1e0)](_0x2a902b);await Helper[_0x2e5761(0x1dc)](this[_0x2e5761(0x200)],_0x3455a4),await Helper[_0x2e5761(0x1d0)](0xbb8),await this[_0x2e5761(0x211)]();}else console[_0x2e5761(0x1bf)](_0x2e5761(0x210)),await this[_0x2e5761(0x1f3)]();}catch(_0x395fe0){throw _0x395fe0;}}async[a3_0x46b6ff(0x1f2)](){const _0x1ee4bc=a3_0x46b6ff;try{if(Config[_0x1ee4bc(0x202)]==undefined||Config[_0x1ee4bc(0x1de)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x47108f=Helper[_0x1ee4bc(0x1e2)](_0x1ee4bc(0x1ca));let _0x14c6f4=_0x1ee4bc(0x1e3);for(const _0x4bc903 of _0x47108f){_0x14c6f4+=_0x47108f[_0x1ee4bc(0x212)](_0x4bc903)+0x1+'.\x20'+_0x4bc903+'\x0a';}_0x47108f[_0x1ee4bc(0x20f)]==0x0?_0x14c6f4+=_0x1ee4bc(0x1cc):_0x14c6f4+=_0x1ee4bc(0x1c1);const _0x471844=await a3_0x42e1f0['text'](_0x14c6f4);this[_0x1ee4bc(0x200)]=Helper[_0x1ee4bc(0x1cb)](_0x1ee4bc(0x1c7)+_0x471844),await this[_0x1ee4bc(0x1bd)](this[_0x1ee4bc(0x200)]),await this[_0x1ee4bc(0x1ff)](),a3_0x7b1de9[_0x1ee4bc(0x1f0)](_0x1ee4bc(0x1d8)+this[_0x1ee4bc(0x200)]+'\x20-\x20Created'),console[_0x1ee4bc(0x1f8)](_0x1ee4bc(0x1d8)+_0x471844+_0x1ee4bc(0x213)),this[_0x1ee4bc(0x1df)][_0x1ee4bc(0x1e8)](),await Helper[_0x1ee4bc(0x1d0)](0xbb8),process[_0x1ee4bc(0x1db)]();}catch(_0x56a500){throw _0x56a500;}}async[a3_0x46b6ff(0x1c5)](){const _0x15a305=a3_0x46b6ff;try{const _0x3c6492=Helper[_0x15a305(0x1e2)](_0x15a305(0x1ca));let _0x2b08a7=_0x15a305(0x1e3);for(const _0x106d91 of _0x3c6492){_0x2b08a7+=_0x3c6492['indexOf'](_0x106d91)+0x1+'.\x20'+_0x106d91+'\x0a';}_0x3c6492[_0x15a305(0x20f)]==0x0?_0x2b08a7+=_0x15a305(0x1ce):_0x2b08a7+='\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:';const _0x1fcacf=await a3_0x42e1f0[_0x15a305(0x1e0)](_0x2b08a7);this[_0x15a305(0x200)]=Helper[_0x15a305(0x1cb)]('query-'+_0x1fcacf);let _0x2f865d=_0x15a305(0x1d1);const _0x49b1c6=await a3_0x42e1f0[_0x15a305(0x1e0)](_0x2f865d);await Helper[_0x15a305(0x1dc)](this[_0x15a305(0x200)],_0x49b1c6),a3_0x7b1de9[_0x15a305(0x1f0)](_0x15a305(0x1f6)+this[_0x15a305(0x200)]+'\x20-\x20Created'),console[_0x15a305(0x1f8)]('Query\x20'+_0x1fcacf+_0x15a305(0x213)),await Helper['delay'](0xbb8),process['exit']();}catch(_0x4d1b76){throw _0x4d1b76;}}async[a3_0x46b6ff(0x20a)](){const _0x1f0717=a3_0x46b6ff;try{const _0x26653b=Helper[_0x1f0717(0x1e2)](_0x1f0717(0x1ca));let _0x54b36e=_0x1f0717(0x1e3);if(_0x26653b[_0x1f0717(0x20f)]>0x0)for(const _0x1aca62 of _0x26653b){_0x54b36e+=_0x26653b[_0x1f0717(0x212)](_0x1aca62)+0x1+'.\x20'+_0x1aca62+'\x0a';}else _0x54b36e+=_0x1f0717(0x20e);_0x54b36e+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x4ac7a3=await a3_0x42e1f0['text'](_0x54b36e);if(_0x4ac7a3==0x1)await this['sessionCreation']();else _0x4ac7a3==0x2?await this[_0x1f0717(0x1c5)]():(console['log'](_0x1f0717(0x1c6)),await this[_0x1f0717(0x20a)]());}catch(_0x4347a4){throw _0x4347a4;}}async[a3_0x46b6ff(0x1bd)](_0x3b4d7a,_0x60c2bc){const _0x5dd3fe=a3_0x46b6ff;try{this[_0x5dd3fe(0x1d4)]=_0x60c2bc;const _0x213971={'connectionRetries':0x5};this[_0x5dd3fe(0x1d4)]&&(_0x213971[_0x5dd3fe(0x1cd)]=new HttpsProxyAgent(this[_0x5dd3fe(0x1d4)])),this[_0x5dd3fe(0x1df)]=new StoreSession(_0x3b4d7a),this[_0x5dd3fe(0x204)]=new TelegramClient(this[_0x5dd3fe(0x1df)],Config[_0x5dd3fe(0x202)],Config[_0x5dd3fe(0x1de)],_0x213971),this['storeSession'][_0x5dd3fe(0x1e8)](),await this[_0x5dd3fe(0x204)][_0x5dd3fe(0x1fe)]({'phoneNumber':async()=>await a3_0x42e1f0['text'](_0x5dd3fe(0x1eb)),'password':async()=>await a3_0x42e1f0['text']('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x42e1f0[_0x5dd3fe(0x1e0)](_0x5dd3fe(0x1ec)),'onError':_0x1ae5f3=>{const _0x4e39e7=_0x5dd3fe;console[_0x4e39e7(0x1f8)](_0x1ae5f3[_0x4e39e7(0x1ed)]);}}),console['log']();}catch(_0x7b6ea1){throw _0x7b6ea1;}}async[a3_0x46b6ff(0x1d6)](){const _0x4a79e2=a3_0x46b6ff;try{a3_0x7b1de9[_0x4a79e2(0x1f0)](_0x4a79e2(0x1d8)+this[_0x4a79e2(0x209)]+_0x4a79e2(0x1e4));while(this[_0x4a79e2(0x1c0)]==undefined){try{this[_0x4a79e2(0x1c0)]=await this[_0x4a79e2(0x204)][_0x4a79e2(0x1ef)](this[_0x4a79e2(0x203)]);break;}catch(_0x35f7d2){if(_0x35f7d2 instanceof FloodWaitError){const _0x3645e9=_0x35f7d2[_0x4a79e2(0x1f9)];a3_0x7b1de9['warn'](this[_0x4a79e2(0x204)][_0x4a79e2(0x209)][_0x4a79e2(0x1f1)]+'\x20|\x20FloodWait\x20'+_0x35f7d2),a3_0x7b1de9[_0x4a79e2(0x1f0)](this[_0x4a79e2(0x204)][_0x4a79e2(0x209)][_0x4a79e2(0x1f1)]+_0x4a79e2(0x1c9)+_0x3645e9+'s'),await Helper['delay']((_0x3645e9+0x3)*0x3e8);}else throw _0x35f7d2;}}}catch(_0xcf89e6){throw _0xcf89e6;}}async['disconnect'](){const _0x55cf8b=a3_0x46b6ff;await this['client'][_0x55cf8b(0x1ff)](),await this[_0x55cf8b(0x204)][_0x55cf8b(0x1fd)](),this[_0x55cf8b(0x1c0)]=undefined,this[_0x55cf8b(0x200)]=undefined;}async[a3_0x46b6ff(0x1d9)](){const _0x2c265f=a3_0x46b6ff;try{const _0x20e597=await this[_0x2c265f(0x204)][_0x2c265f(0x1d7)](new Api[(_0x2c265f(0x1e5))][(_0x2c265f(0x1c2))]({'peer':this[_0x2c265f(0x1c0)],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0x2c265f(0x1f7)],'platform':'android'}));a3_0x7b1de9[_0x2c265f(0x1f0)](_0x2c265f(0x1d8)+this[_0x2c265f(0x209)]+_0x2c265f(0x1fb));const _0x1fd620=_0x20e597['url'];return Helper[_0x2c265f(0x1cf)](_0x1fd620,0x3);}catch(_0x47eea2){throw _0x47eea2;}}}